// Top-level build file where you can add configuration options common to all sub-projects/modules.  

buildscript {  
    repositories {  
        google()  
        mavenCentral()  
    }  
    dependencies {  
    }  
}  

// Define repositories for all projects  
allprojects {  
    repositories {  
        google()  
        mavenCentral()  
    }  
}  

// Set the build directory for the root project  
rootProject.buildDir = "../build"  

// Configure subprojects  
subprojects {  
    project.buildDir = "${rootProject.buildDir}/${project.name}"  
    project.evaluationDependsOn(":app") // Ensure the app module is evaluated  
}  

// Register a clean task only if it doesn't already exist  
if (!tasks.findByName("clean")) {  
    tasks.register("clean", Delete) {  
        delete rootProject.buildDir  
    }  
}